'use strict';
var qtools = require('qtools'),
	qtools = new qtools(module)
	
	
	var fieldMappingModuleFilePath='../lib/uffRemapNames.js';
	var mapGenerator=require(fieldMappingModuleFilePath);
	var mappingTable = new mapGenerator();
	
	var tableNameMap={
// 		AddressContact:'ext.ExContact',
// 		Course:'ext.ExtractCourse',
// 		Section:'ext.ExtractSection',
// 		SectionStaff:'ext.ExtractSectionStaff ',
// 		SectionStudent:'ext.ExtractSectionStudent',
// 		StudentAttendance:'ext.ExtractStudentAttendance',
// 		StudentBase:'ext.ExStudentBase',
// 		StudentDiscipline:'ext.ExtractStudentDiscipline',
// 		StudentEnrollment:'ext.ExStudentEnrollment',
// 		StudentGpa:'ext.ExtractStudentGPA',
// 		StudentGradeLevels:'ext.ExtractStudentGrades',
// 		UserBase:'ext.ExUserBase',
// 		UserRole:'ext.ExUserRole',
// 		
// 
// 		Address_Contact:'ext.ExContact',
// 	//	Course:'ext.ExtractCourse',
// 	//	Section:'ext.ExtractSection',
// 		Section_Staff:'ext.ExtractSectionStaff ',
// 		Section_Student:'ext.ExtractSectionStudent',
// 		Student_Attendance:'ext.ExtractStudentAttendance',
// 		Student_Base:'ext.ExStudentBase',
// 		Student_Discipline:'ext.ExtractStudentDiscipline',
// 		Student_Enrollment:'ext.ExStudentEnrollment',
// 		Student_Gpa:'ext.ExtractStudentGPA',
// 		StudentGrade_Levels:'ext.ExtractStudentGrades',
// 		User_Base:'ext.ExUserBase',
// 		User_Role:'ext.ExUserRole',
// 		
AddressContact:'LP.Address_Contact',
Course:'LP.Course',
Section:'LP.Section',
SectionStaff:'LP.Section_Staff',
SectionStudent:'LP.Section_Student',
StudentAttendance:'LP.Student_Attendance',
StudentBase:'LP.Student_Base',
StudentDiscipline:'LP.Student_Discipline',
StudentEnrollment:'LP.Student_Enrollment',
StudentGpa:'LP.Student_Gpa',
StudentGradeLevels:'LP.StudentGrade_Levels',
UserBase:'LP.User_Base',
UserRole:'LP.User_Role',
StandardGrades:'LP.Standard_Grades',
StandardCourses:'LP.Standard_Courses',
StudentGrades:'LP.Student_Grades',

Address_Contact:'LP.Address_Contact',
Section_Staff:'LP.Section_Staff',
Section_Student:'LP.Section_Student',
Student_Attendance:'LP.Student_Attendance',
Student_Base:'LP.Student_Base',
Student_Discipline:'LP.Student_Discipline',
Student_Enrollment:'LP.Student_Enrollment',
Student_Gpa:'LP.Student_Gpa',
StudentGrade_Levels:'LP.StudentGrade_Levels',
User_Base:'LP.User_Base',
User_Role:'LP.User_Role',
//Course:'LP.Course',
		
	}

	//METHODS AND PROPERTIES ====================================

	this.mapDistrictAccessName = function(dictionaryName) {
		return "SSI_XDI_" + dictionaryName;
	}

	this.mapSegmentAccessName = function(dictionaryName) {
		var mapResult=tableNameMap[dictionaryName];
		
		if (typeof(mapResult)!='undefined'){
			return mapResult;
		}
		else{
			return dictionaryName;
		}
	}
	
	this.mapQueryNames=function(query){
		return qtools.templateReplace({template:query, replaceObject:tableNameMap});
	}


	this.mapFieldNames = function(inData, stripNulls) {
		var outObj = {};
			
		for (var i in inData) {
			var element = inData[i],
				replacement = mappingTable.getValidName(i);

			if (stripNulls && (element && element.toString().toLowerCase() == 'null') || qtools.toType(element) == 'null') {
				element = '';
			}

			if (typeof (replacement) != 'undefined') {
				outObj[replacement] = element;
			} else {
						global.localEnvironment.log.info({
				source: qtools.employerFilename,
				type: 'invalid field name, no match in field mapping file, '+fieldMappingModuleFilePath,
				evidence: {invalidFieldName:i}
			});
			}
		}
		return outObj;
	}

	this.mapFieldNamesList = function(inArray, stripNulls) {
		stripNulls = (typeof (stripNulls) == 'undefined') ? false : stripNulls;
		var outArray = [];
		for (var i = 0, len = inArray.length; i < len; i++) {
			var element = inArray[i];
			outArray.push(this.mapFieldNames(element, stripNulls));
		}
		return outArray;
	}


	this.serverType = 'mssql'; //could be 'file' 'mysql' or 'postgresql' or ...? //maps to something in the dictionary.definition

	//INITIALIZATION ====================================

	this.converterName = '';

var tmp=[{tableName:'ExtractSection', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractSection', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractSection', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractSection', mattFieldName:'sectionNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSection', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSection', mattFieldName:'termAbbrev', type:'nvarchar', varCharLen:'64'},
{tableName:'ExtractSection', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractSection', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractSection', mattFieldName:'grade', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSection', mattFieldName:'beginDate', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSection', mattFieldName:'endDate', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSection', mattFieldName:'location', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractSection', mattFieldName:'homeroomFlag', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSection', mattFieldName:'begPeriodNum', type:'int', varCharLen:'NULL'},
{tableName:'ExtractSection', mattFieldName:'endPeriodNum', type:'int', varCharLen:'NULL'},
{tableName:'ExtractSection', mattFieldName:'credit', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSection', mattFieldName:'teamCode', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSection', mattFieldName:'track', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSectionStaff', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractSectionStaff', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractSectionStaff', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractSectionStaff', mattFieldName:'staffUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStaff', mattFieldName:'localStaffCode', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStaff', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractSectionStaff', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractSectionStaff', mattFieldName:'sectionNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStaff', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStaff', mattFieldName:'grade', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSectionStaff', mattFieldName:'primaryInstructorFlag', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSectionStaff', mattFieldName:'lastName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractSectionStaff', mattFieldName:'middleName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractSectionStaff', mattFieldName:'firstName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractSectionStudent', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractSectionStudent', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractSectionStudent', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractSectionStudent', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStudent', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStudent', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStudent', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractSectionStudent', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractSectionStudent', mattFieldName:'sectionNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStudent', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStudent', mattFieldName:'gradeLevel', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractSectionStudent', mattFieldName:'entryDate', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSectionStudent', mattFieldName:'withdrawalDate', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSectionStudent', mattFieldName:'entryType', type:'varchar', varCharLen:'1'},
{tableName:'ExtractSectionStudent', mattFieldName:'withdrawalType', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentGrades', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStudentGrades', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStudentGrades', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentGrades', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentGrades', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentGrades', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentGrades', mattFieldName:'termAbbrev', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractStudentGrades', mattFieldName:'subjectAreaDepartment', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentGrades', mattFieldName:'gradeLevel', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentGrades', mattFieldName:'creditsEarned', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractStudentGrades', mattFieldName:'creditsAttempted', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractStudentGrades', mattFieldName:'gradeMark', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentGrades', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentGrades', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentGrades', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractStudentGrades', mattFieldName:'courseDesc', type:'nvarchar', varCharLen:'256'},
{tableName:'ExStudentBase', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentBase', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentBase', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExStudentBase', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentBase', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentBase', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentBase', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentBase', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentBase', mattFieldName:'gradeLevel', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentBase', mattFieldName:'graduationYear', type:'decimal', varCharLen:'NULL'},
{tableName:'ExStudentBase', mattFieldName:'studentStatus', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentBase', mattFieldName:'lastName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentBase', mattFieldName:'middleName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentBase', mattFieldName:'firstName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentBase', mattFieldName:'suffix', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentBase', mattFieldName:'prefix', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentBase', mattFieldName:'fullName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentBase', mattFieldName:'preferredName', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentBase', mattFieldName:'lastSchoolAttended', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentBase', mattFieldName:'concurrentEnrollment', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentBase', mattFieldName:'birthDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentBase', mattFieldName:'selfGuardianFlag', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentBase', mattFieldName:'gender', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentBase', mattFieldName:'ssn', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentBase', mattFieldName:'birthPlace', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentBase', mattFieldName:'birthState', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentBase', mattFieldName:'birthCountry', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentBase', mattFieldName:'ethnicityCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractStudentAttendance', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStudentAttendance', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStudentAttendance', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentAttendance', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentAttendance', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentAttendance', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentAttendance', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentAttendance', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractStudentAttendance', mattFieldName:'attendanceTimeUnit', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentAttendance', mattFieldName:'termAbbrev', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentAttendance', mattFieldName:'attendanceCategory', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentAttendance', mattFieldName:'attendanceType', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentAttendance', mattFieldName:'attendanceCode', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentAttendance', mattFieldName:'attendanceDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentAttendance', mattFieldName:'periodCode', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentAttendance', mattFieldName:'timeIn', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentAttendance', mattFieldName:'timeOut', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentAttendance', mattFieldName:'note', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentAttendance', mattFieldName:'attendanceCount', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'disciplineTimeUnit', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'termAbbrev', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'disciplineCategory', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'disciplineCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'disciplineDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'dispositionCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'dispositionBeginDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'dispositionEndDate', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'note', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'incidentTime', type:'int', varCharLen:'NULL'},
{tableName:'ExtractStudentDiscipline', mattFieldName:'incidentLocation', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentEnrollment', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentEnrollment', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExStudentEnrollment', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentEnrollment', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentEnrollment', mattFieldName:'gradeLevel', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'entryDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'withdrawalDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'entryTypeCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'withdrawalTypeCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'studentResidentDistrictCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'studentResidentDistrictType', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'studentResidentSchoolCode', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'stateAidCategory', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'lastLocationOfAttendance', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'percentEnrolled', type:'int', varCharLen:'NULL'},
{tableName:'ExStudentEnrollment', mattFieldName:'attendanceDays', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'membershipDays', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'postSecondaryOption', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'PSEOHighSchoolParticipationHrs', type:'int', varCharLen:'NULL'},
{tableName:'ExStudentEnrollment', mattFieldName:'homeBoundServiceIndicator', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'specialEducationEvaluationStatus', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'specialEdInstructionalSetting', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'lep', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'lepBeginDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'giftedTalentedPartiicipation', type:'bit', varCharLen:'NULL'},
{tableName:'ExStudentEnrollment', mattFieldName:'gender', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'ethnicityCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'birthDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'homePrimaryLanguage', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'primaryDisability', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'transportationCategory', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'economicIndicator', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'migrantIndicator', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'studentTitle1Indicator', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentEnrollment', mattFieldName:'homelessStudentFlag', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'transportingDistrictCode', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'transportingDistrictType', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'wardOfStateFlag', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'independentStudyFlag', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'supplementalEducationServices', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'specialEnrollmentCode', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'primarySchoolFlag', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'specEdFlag', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'flag504', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'track', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'teamCode', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'promotionStatus', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'programOfStudy', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'enrollmentStatus', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentEnrollment', mattFieldName:'filler01', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'filler02', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'filler03', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'filler04', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'filler05', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'filler06', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'advisorIdOrName', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'filler07', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'ellServicesLevel', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'raceHispanic', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'raceAmiIndAlk', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'raceAsian', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'raceBlackAfricanAmerican', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'raceHawPac', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'raceWht', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'firstSchoolEntryDate', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentEnrollment', mattFieldName:'newToCountry', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentGPA', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentGPA', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentGPA', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentGPA', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentGPA', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentGPA', mattFieldName:'creditsEarned', type:'decimal', varCharLen:'NULL'},
{tableName:'ExStudentGPA', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentGPA', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentGPA', mattFieldName:'gpa1', type:'decimal', varCharLen:'NULL'},
{tableName:'ExStudentGPA', mattFieldName:'gpa2', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentGPA', mattFieldName:'schoolLevelName', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentGPA', mattFieldName:'programOfStudy', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExContact', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExContact', mattFieldName:'StudentCode', type:'nvarchar', varCharLen:'32'},
{tableName:'ExContact', mattFieldName:'MARSSID', type:'nvarchar', varCharLen:'32'},
{tableName:'ExContact', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExContact', mattFieldName:'UniqueStaffCode', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExContact', mattFieldName:'AddressTypeCode', type:'varchar', varCharLen:'2'},
{tableName:'ExContact', mattFieldName:'Address1', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'Address2', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'Address3', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'City', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'StateName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'StateCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'ZipCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'CountyCode', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'CountyName', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'ContactCode', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'ContactLegalCode', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'ContactExtraMailingCode', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'ContactSequence', type:'varchar', varCharLen:'1'},
{tableName:'ExContact', mattFieldName:'ContactFirstName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'ContactMiddleName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'ContactLastName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'ContactFullName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'ContactPhone1', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'ContactPhone2', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'ContactPhone3', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'Phone1Type', type:'varchar', varCharLen:'7'},
{tableName:'ExContact', mattFieldName:'Phone2Type', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'Phone3Type', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExContact', mattFieldName:'ContactEMail', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExUserBase', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExUserBase', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExUserBase', mattFieldName:'staffUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExUserBase', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExUserBase', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExUserBase', mattFieldName:'employeeID', type:'nvarchar', varCharLen:'32'},
{tableName:'ExUserBase', mattFieldName:'localStaffCode', type:'nvarchar', varCharLen:'32'},
{tableName:'ExUserBase', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExUserBase', mattFieldName:'lastName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExUserBase', mattFieldName:'middleName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExUserBase', mattFieldName:'firstName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExUserBase', mattFieldName:'fullName', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExUserBase', mattFieldName:'jobCode1', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'jobCode2', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'jobCode3', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'jobCode4', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'phone', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'email', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExUserBase', mattFieldName:'department1', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'department2', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'department3', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'department4', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'status', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExUserBase', mattFieldName:'primaryLocationFlag', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'loginName', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'passward', type:'varchar', varCharLen:'1'},
{tableName:'ExUserBase', mattFieldName:'defaultPassword', type:'varchar', varCharLen:'1'},
{tableName:'ExUserRole', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExUserRole', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExUserRole', mattFieldName:'staffUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExUserRole', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExUserRole', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExUserRole', mattFieldName:'System', type:'varchar', varCharLen:'9'},
{tableName:'ExUserRole', mattFieldName:'Role', type:'varchar', varCharLen:'1'},
{tableName:'ExUserRole', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractStandardGrades', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStandardGrades', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStandardGrades', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStandardGrades', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStandardGrades', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStandardGrades', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'289'},
{tableName:'ExtractStandardGrades', mattFieldName:'termAbbrev', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractStandardGrades', mattFieldName:'subjectAreaDepartment', type:'nvarchar', varCharLen:'256'},
{tableName:'ExtractStandardGrades', mattFieldName:'gradeLevel', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStandardGrades', mattFieldName:'creditsEarned', type:'decimal', varCharLen:'NULL'},
{tableName:'ExtractStandardGrades', mattFieldName:'creditsAttempted', type:'decimal', varCharLen:'NULL'},
{tableName:'ExtractStandardGrades', mattFieldName:'gradeMark', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStandardGrades', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStandardGrades', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStandardGrades', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractStandardGrades', mattFieldName:'courseDesc', type:'nvarchar', varCharLen:'256'},
{tableName:'ExtractStandardGrades', mattFieldName:'sectionNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractStandardGrades', mattFieldName:'sectionTermCode', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStandardGrades', mattFieldName:'period', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStandardGrades', mattFieldName:'roomNumber', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractStandardGrades', mattFieldName:'teacherName', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStandardGrades', mattFieldName:'sequenceCode', type:'nvarchar', varCharLen:'256'},
{tableName:'ExtractStandardGrades', mattFieldName:'sequenceGrade', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStandardGrades', mattFieldName:'courseGroupCode', type:'nvarchar', varCharLen:'256'},
{tableName:'ExtractStandardCourses', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStandardCourses', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractStandardCourses', mattFieldName:'schoolCode', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStandardCourses', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'289'},
{tableName:'ExtractStandardCourses', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStandardCourses', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractStandardCourses', mattFieldName:'courseDesc', type:'nvarchar', varCharLen:'50'},
{tableName:'ExtractStandardCourses', mattFieldName:'courseAbbrev', type:'nvarchar', varCharLen:'10'},
{tableName:'ExtractStandardCourses', mattFieldName:'subjectAreaDepartment', type:'nvarchar', varCharLen:'256'},
{tableName:'ExtractStandardCourses', mattFieldName:'credit', type:'decimal', varCharLen:'NULL'},
{tableName:'ExtractStandardCourses', mattFieldName:'gradeMinimum', type:'varchar', varCharLen:'1'},
{tableName:'ExtractStandardCourses', mattFieldName:'gradeMaximum', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'districtCode', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'districtType', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExSectionStudent', mattFieldName:'studentUniqueIdentifier', type:'int', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'stateStudentNumber', type:'decimal', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'localStudentNumber', type:'int', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'schoolYearBegin', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'schoolYearEnd', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'sectionNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExSectionStudent', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExSectionStudent', mattFieldName:'gradeLevel', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'entryDate', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'withdrawalDate', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'entryType', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'withdrawalType', type:'varchar', varCharLen:'1'},
{tableName:'ExSectionStudent', mattFieldName:'GRAD-YR', type:'decimal', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'STUDENT-ID', type:'int', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'NAME-ID', type:'int', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'NALPHAKEY', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExSectionStudent', mattFieldName:'ALPHAKEY', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExSectionStudent', mattFieldName:'OTHER-ID', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExSectionStudent', mattFieldName:'COR-NUM-ID', type:'int', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'COR-ALPHAKEY', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExSectionStudent', mattFieldName:'CLAS-SECTION', type:'nvarchar', varCharLen:'32'},
{tableName:'ExSectionStudent', mattFieldName:'SCHD-STATUS', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExSectionStudent', mattFieldName:'SCHD-STR-TRM', type:'int', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'SCHD-STP-TRM', type:'int', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'SCH-PERIOD', type:'int', varCharLen:'NULL'},
{tableName:'ExSectionStudent', mattFieldName:'ENTITY-ID', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExSectionStudent', mattFieldName:'BUILDING-ID', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExCourse', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExCourse', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExCourse', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExCourse', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExCourse', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExCourse', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExCourse', mattFieldName:'courseDesc', type:'nvarchar', varCharLen:'256'},
{tableName:'ExCourse', mattFieldName:'courseAbbrev', type:'nvarchar', varCharLen:'10'},
{tableName:'ExCourse', mattFieldName:'subjectAreaDepartment', type:'varchar', varCharLen:'1'},
{tableName:'ExCourse', mattFieldName:'credit', type:'decimal', varCharLen:'NULL'},
{tableName:'ExCourse', mattFieldName:'gradeMinimum', type:'varchar', varCharLen:'1'},
{tableName:'ExCourse', mattFieldName:'gradeMaximum', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentGrades', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentGrades', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentGrades', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentGrades', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentGrades', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentGrades', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentGrades', mattFieldName:'termAbbrev', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentGrades', mattFieldName:'subjectAreaDepartment', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentGrades', mattFieldName:'gradeLevel', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentGrades', mattFieldName:'creditsEarned', type:'decimal', varCharLen:'NULL'},
{tableName:'ExStudentGrades', mattFieldName:'creditsAttempted', type:'decimal', varCharLen:'NULL'},
{tableName:'ExStudentGrades', mattFieldName:'gradeMark', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentGrades', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentGrades', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentGrades', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExStudentGrades', mattFieldName:'courseDesc', type:'nvarchar', varCharLen:'50'},
{tableName:'ExStudentGrades', mattFieldName:'STUDENT-ID', type:'int', varCharLen:'NULL'},
{tableName:'ExStudentGrades', mattFieldName:'SCH-STR-TRM', type:'int', varCharLen:'NULL'},
{tableName:'ExStudentGrades', mattFieldName:'SCH-STP-TRM', type:'int', varCharLen:'NULL'},
{tableName:'ExStudentGrades', mattFieldName:'cmENTITY-ID', type:'nvarchar', varCharLen:'64'},
{tableName:'ExStudentGrades', mattFieldName:'COR-NUM-ID', type:'int', varCharLen:'NULL'},
{tableName:'ExStudentGrades', mattFieldName:'CLAS-SECTION', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentGrades', mattFieldName:'GRD-TRM-MRK', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentGrades', mattFieldName:'GRD-SEM-MRK', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentGrades', mattFieldName:'GRD-FNL-MRK', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentGrades', mattFieldName:'scENTITY-ID', type:'nvarchar', varCharLen:'64'},
{tableName:'ExStudentGrades', mattFieldName:'DEPARTMENT-ID', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentGrades', mattFieldName:'BUILDING-ID', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentDiscipline', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentDiscipline', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExStudentDiscipline', mattFieldName:'studentUniqueIdentifier', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentDiscipline', mattFieldName:'stateStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentDiscipline', mattFieldName:'localStudentNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentDiscipline', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentDiscipline', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExStudentDiscipline', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExStudentDiscipline', mattFieldName:'disciplineTimeUnit', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentDiscipline', mattFieldName:'termAbbrev', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentDiscipline', mattFieldName:'disciplineCategory', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentDiscipline', mattFieldName:'disciplineCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentDiscipline', mattFieldName:'disciplineDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentDiscipline', mattFieldName:'dispositionCode', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExStudentDiscipline', mattFieldName:'dispositionBeginDate', type:'nvarchar', varCharLen:'32'},
{tableName:'ExStudentDiscipline', mattFieldName:'dispositionEndDate', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentDiscipline', mattFieldName:'note', type:'varchar', varCharLen:'1'},
{tableName:'ExStudentDiscipline', mattFieldName:'incidentTime', type:'int', varCharLen:'NULL'},
{tableName:'ExStudentDiscipline', mattFieldName:'incidentLocation', type:'nvarchar', varCharLen:'-1'},
{tableName:'ExtractCourse', mattFieldName:'districtCode', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractCourse', mattFieldName:'districtType', type:'nvarchar', varCharLen:'16'},
{tableName:'ExtractCourse', mattFieldName:'schoolCode', type:'nvarchar', varCharLen:'12'},
{tableName:'ExtractCourse', mattFieldName:'courseNumber', type:'nvarchar', varCharLen:'32'},
{tableName:'ExtractCourse', mattFieldName:'schoolYearBegin', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractCourse', mattFieldName:'schoolYearEnd', type:'nvarchar', varCharLen:'4'},
{tableName:'ExtractCourse', mattFieldName:'courseDesc', type:'nvarchar', varCharLen:'256'},
{tableName:'ExtractCourse', mattFieldName:'courseAbbrev', type:'nvarchar', varCharLen:'10'},
{tableName:'ExtractCourse', mattFieldName:'subjectAreaDepartment', type:'varchar', varCharLen:'1'},
{tableName:'ExtractCourse', mattFieldName:'credit', type:'decimal', varCharLen:'NULL'},
{tableName:'ExtractCourse', mattFieldName:'gradeMinimum', type:'varchar', varCharLen:'1'},
{tableName:'ExtractCourse', mattFieldName:'gradeMaximum', type:'varchar', varCharLen:'1'}

];
	var officialTableNameMap = {
		Address_Contact: 'ext.ExContact',
		Course: 'ext.ExtractCourse',
		Section: 'ext.ExtractSection',
		Section_Staff: 'ext.ExtractSectionStaff ',
		Section_Student: 'ext.ExtractSectionStudent',
		Student_Attendance: 'ext.ExtractStudentAttendance',
		Student_Base: 'ext.ExStudentBase',
		Student_Discipline: 'ext.ExtractStudentDiscipline',
		Student_Enrollment: 'ext.ExStudentEnrollment',
		Student_Gpa: 'ext.ExtractStudentGPA',
		StudentGrade_Levels: 'ext.ExtractStudentGrades',
		User_Base: 'ext.ExUserBase',
		User_Role: 'ext.ExUserRole',

		//Section_Staff:'ext.ExtractSectionStaff',
		//Student_Gpa:'ext.ExStudentGPA',
		Standard_Grades: 'ext.ExtractStandardGrades',
		Standard_Courses: 'ext.ExtractStandardCourses',
		//Section_Student:'ext.ExSectionStudent',
		//Course:'ext.ExCourse',
		Student_Grades: 'ext.ExStudentGrades',
		//Student_Discipline: 'ext.ExStudentDiscipline',
	}


	var getKeyForValue = function(inObj, value) {
		value=value.trim();
		if (qtools.toType(inObj) == 'object') {
		for (var i in inObj) {


				var element = inObj[i].trim();

				if (element == value) {
					return i;
				}
			}
		} else if (qtools.toType(inObj) == 'array') {

			for (var i = 0, len = inObj.length; i < len; i++) {
				var element = inObj[i];
				if (element == value) {
					return i;
				}
			}

		} else {
			throw "qtools.getKeyForValue says, inObj must be an array or object";
		}
	}

//add standard table names to field definition list
var organized={};
	for (var i=0, len=tmp.length; i<len; i++){
		var element=tmp[i];
		if (typeof(organized[element.tableName])=='undefined'){
			organized[element.tableName]=[];
		}
		var newElement=qtools.clone(element);
		newElement.standardName=mappingTable.getValidName(element.mattFieldName);
		if (typeof(newElement.standardName)!='undefined' && newElement.standardName!='undefined' && newElement.standardName!='' && newElement.standardName){
		organized[element.tableName].push(newElement);
}

	}



	var genCreateTableString = function(tableName, propertyNameArray) {
		var fieldDefString = '',
			outString,
			existingFieldList = [];

// 		for (var i = 0, len = propertyNameArray.length; i < len; i++) {
// 			var propertyName = propertyNameArray[i];
// 			fieldDefString += '"' + propertyName.standardName + '"' + ' TEXT,\n'; //sqlite requires weird field names, eg 504flag, to be escaped
// 			//fieldDefString += propertyName + ' TEXT, '; //mysql doesn't allow escaping with either apostrophe or quote
// 		}

		
		var fieldDefTemplate='"<!standardName!>" <!typeString!>,\n';
		fieldDefString=qtools.templateReplaceArray({
			replaceArray:propertyNameArray,
			template:fieldDefTemplate,
			transformations:{
				typeString:function(inObj){
					switch(inObj.type){
						case 'varchar':
								return "varchar("+inObj.varCharLen+")";
							break;
						case 'nvarchar':
								return "nvarchar("+inObj.varCharLen+")";
							break;
						default:
							return inObj.type;
					}

				}
			}
		})


		fieldDefString = fieldDefString.replace(/,\n$/, '');
		var replaceObject={
			tableName:tableName,
			fieldDefString:fieldDefString
		},
//		createTemplate=" \n\nif not exists (select * from sysobjects where name='<!tableName!>' and xtype='U') \n\nCREATE TABLE <!tableName!> (\n <!fieldDefString!>\n); \ngo truncate table <!tableName!>; go";

//change of heart. DROP TABLE, SELECT blah INTO FROM
		createTemplate="\nif exists (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = \'BASE TABLE\' and TABLE_NAME=\'<!tableName!>\' and TABLE_SCHEMA=\'LP\')\nDROP TABLE LP.<!tableName!>;\ngo\n";
		outString = qtools.templateReplace({
			replaceObject:replaceObject,
			template:createTemplate
		});
		return outString;
	}


	var outString = '';
	var createTableString = '';
	for (var sourceTableName in organized) {
		var destTableName=getKeyForValue(officialTableNameMap, "ext."+sourceTableName);
		
		if (!destTableName){
			continue;
		}

		var tableFieldList = organized[sourceTableName];

		createTableString += genCreateTableString(destTableName, tableFieldList);

		//create the select string
		var templateString = '"<!mattFieldName!>" as \'<!standardName!>\',\n',
			selectString = qtools.templateReplaceArray({
				replaceArray: tableFieldList,
				template: templateString,
			});


		selectString = selectString.replace(/,\n$/, '');

		//assemble the final string
		var tableString = "\nSELECT\n" + selectString + ",\n@schemaVersion as 'schemaVersion'\nINTO LP."+destTableName+ "\nFROM ext." + sourceTableName + ";\n\n";

		outString += tableString;



	}

outString=outString.replace(/"StudentCode" as 'stateStudentIdentifier',/g, "\"StudentCode\" as 'studentUniqueIdentifier',");

var schemaVersion='1.00'
var versionString="DECLARE @schemaVersion nvarchar(5);\nSET @schemaVersion='v"+schemaVersion+"';\n\n"
	
var filePath='/Volumes/qubuntuFileServer/cmerdc/lightningPipe/system/responder/node_modules/hybridModel/node_modules/serverProfiles/lib/mattSql.sql';
// qtools.writeSureFile(filePath, createTableString+"\n\n--================\n"+outString);
// qtools.die("wrote "+filePath);

qtools.writeSureFile(filePath, createTableString+"\n\n--================\n"+versionString+outString);
qtools.die("wrote "+filePath);
